
running 4 tests
The current directory is /Users/jack/Library/CloudStorage/Dropbox/Semester/Program Analysis/homework/assign-1
Some(Block { id: "block0", insts: [], term: Jump("xxx") })
{14: 2, 15: 5, 10: 0, 11: 3, 12: 1, 13: 4}
test cfg::test::test_access_neighbors ... ok
No.2's successor_ids: [13, 14]
test cfg::test::test_get_block_id ... ok
test cfg::test::test_topological_sort ... ok
number for basic blocks: 87
block id: entry
	block num_instrs: 5
	block terminal: Ret(Some(Var(Variable { name: "t", typ: Pointer(Struct("term")), scope: Some("var") })))
block id: exit
	block num_instrs: 0
	block terminal: Ret(Some(Var(Variable { name: "_ret58", typ: Pointer(Struct("value")), scope: Some("eval") })))
block id: bb11
	block num_instrs: 10
	block terminal: Jump("bb8")
block id: bb16
	block num_instrs: 2
	block terminal: CallDirect { lhs: Some(Variable { name: "_t57", typ: Pointer(Struct("value")), scope: Some("eval") }), callee: "eval", args: [Var(Variable { name: "_t54", typ: Pointer(Struct("env")), scope: Some("eval") }), Var(Variable { name: "_t56", typ: Pointer(Struct("term")), scope: Some("eval") })], next_bb: "bb17" }
block id: bb5
	block num_instrs: 6
	block terminal: Jump("bb4")
block id: bb13
	block num_instrs: 2
	block terminal: CallDirect { lhs: Some(Variable { name: "_t46", typ: Pointer(Struct("value")), scope: Some("eval") }), callee: "eval", args: [Var(Variable { name: "env", typ: Pointer(Struct("env")), scope: Some("eval") }), Var(Variable { name: "_t45", typ: Pointer(Struct("term")), scope: Some("eval") })], next_bb: "bb14" }
block id: bb7
	block num_instrs: 12
	block terminal: Jump("bb6")
block id: bb1
	block num_instrs: 3
	block terminal: Branch { cond: Var(Variable { name: "_t9", typ: Int, scope: Some("eval") }), tt: "bb5", ff: "bb4" }
block id: entry
	block num_instrs: 4
	block terminal: Branch { cond: Var(Variable { name: "_t3", typ: Int, scope: Some("eval") }), tt: "bb2", ff: "bb1" }
block id: bb3
	block num_instrs: 1
	block terminal: Jump("exit")
block id: bb8
	block num_instrs: 3
	block terminal: Branch { cond: Var(Variable { name: "_t43", typ: Int, scope: Some("eval") }), tt: "bb13", ff: "bb12" }
block id: bb9
	block num_instrs: 2
	block terminal: CallDirect { lhs: Some(Variable { name: "_t30", typ: Pointer(Struct("value")), scope: Some("eval") }), callee: "eval", args: [Var(Variable { name: "env", typ: Pointer(Struct("env")), scope: Some("eval") }), Var(Variable { name: "_t29", typ: Pointer(Struct("term")), scope: Some("eval") })], next_bb: "bb10" }
block id: bb4
	block num_instrs: 3
	block terminal: Branch { cond: Var(Variable { name: "_t16", typ: Int, scope: Some("eval") }), tt: "bb7", ff: "bb6" }
block id: bb10
	block num_instrs: 3
	block terminal: CallDirect { lhs: Some(Variable { name: "_t33", typ: Pointer(Struct("value")), scope: Some("eval") }), callee: "eval", args: [Var(Variable { name: "env", typ: Pointer(Struct("env")), scope: Some("eval") }), Var(Variable { name: "_t32", typ: Pointer(Struct("term")), scope: Some("eval") })], next_bb: "bb11" }
block id: bb6
	block num_instrs: 3
	block terminal: Branch { cond: Var(Variable { name: "_t27", typ: Int, scope: Some("eval") }), tt: "bb9", ff: "bb8" }
block id: bb14
	block num_instrs: 3
	block terminal: CallDirect { lhs: Some(Variable { name: "_t49", typ: Pointer(Struct("value")), scope: Some("eval") }), callee: "eval", args: [Var(Variable { name: "env", typ: Pointer(Struct("env")), scope: Some("eval") }), Var(Variable { name: "_t48", typ: Pointer(Struct("term")), scope: Some("eval") })], next_bb: "bb15" }
block id: bb15
	block num_instrs: 5
	block terminal: CallDirect { lhs: Some(Variable { name: "_t54", typ: Pointer(Struct("env")), scope: Some("eval") }), callee: "bind", args: [Var(Variable { name: "_t51", typ: Pointer(Struct("env")), scope: Some("eval") }), Var(Variable { name: "_t53", typ: Pointer(Struct("var")), scope: Some("eval") }), Var(Variable { name: "v2", typ: Pointer(Struct("value")), scope: Some("eval") })], next_bb: "bb16" }
block id: bb17
	block num_instrs: 1
	block terminal: Jump("exit")
block id: bb2
	block num_instrs: 2
	block terminal: CallDirect { lhs: Some(Variable { name: "_t6", typ: Pointer(Struct("value")), scope: Some("eval") }), callee: "lookup", args: [Var(Variable { name: "env", typ: Pointer(Struct("env")), scope: Some("eval") }), Var(Variable { name: "_t5", typ: Pointer(Struct("var")), scope: Some("eval") })], next_bb: "bb3" }
block id: bb12
	block num_instrs: 1
	block terminal: Jump("exit")
block id: bb17
	block num_instrs: 0
	block terminal: CallDirect { lhs: None, callee: "printV", args: [Var(Variable { name: "_t19", typ: Pointer(Struct("value")), scope: Some("main") })], next_bb: "bb18" }
block id: bb14
	block num_instrs: 0
	block terminal: CallDirect { lhs: Some(Variable { name: "_t18", typ: Pointer(Struct("term")), scope: Some("main") }), callee: "apply", args: [Var(Variable { name: "_t16", typ: Pointer(Struct("term")), scope: Some("main") }), Var(Variable { name: "_t17", typ: Pointer(Struct("term")), scope: Some("main") })], next_bb: "bb15" }
block id: bb5
	block num_instrs: 0
	block terminal: CallDirect { lhs: Some(Variable { name: "_t9", typ: Pointer(Struct("term")), scope: Some("main") }), callee: "apply", args: [Var(Variable { name: "_t5", typ: Pointer(Struct("term")), scope: Some("main") }), Var(Variable { name: "_t8", typ: Pointer(Struct("term")), scope: Some("main") })], next_bb: "bb6" }
block id: bb8
	block num_instrs: 1
	block terminal: CallDirect { lhs: Some(Variable { name: "_t12", typ: Pointer(Struct("term")), scope: Some("main") }), callee: "var", args: [Var(Variable { name: "x", typ: Pointer(Struct("var")), scope: Some("main") })], next_bb: "bb9" }
block id: bb9
	block num_instrs: 0
	block terminal: CallDirect { lhs: Some(Variable { name: "_t13", typ: Pointer(Struct("term")), scope: Some("main") }), callee: "var", args: [Var(Variable { name: "x", typ: Pointer(Struct("var")), scope: Some("main") })], next_bb: "bb10" }
block id: bb7
	block num_instrs: 0
	block terminal: CallDirect { lhs: Some(Variable { name: "_t11", typ: Pointer(Struct("term")), scope: Some("main") }), callee: "lambda", args: [Var(Variable { name: "x", typ: Pointer(Struct("var")), scope: Some("main") }), Var(Variable { name: "_t10", typ: Pointer(Struct("term")), scope: Some("main") })], next_bb: "bb8" }
block id: bb18
	block num_instrs: 0
	block terminal: Ret(Some(CInt(0)))
block id: bb12
	block num_instrs: 1
	block terminal: CallDirect { lhs: Some(Variable { name: "_t16", typ: Pointer(Struct("term")), scope: Some("main") }), callee: "apply", args: [Var(Variable { name: "apply2", typ: Pointer(Struct("term")), scope: Some("main") }), Var(Variable { name: "double", typ: Pointer(Struct("term")), scope: Some("main") })], next_bb: "bb13" }
block id: bb15
	block num_instrs: 1
	block terminal: CallDirect { lhs: None, callee: "printE", args: [Var(Variable { name: "t", typ: Pointer(Struct("term")), scope: Some("main") })], next_bb: "bb16" }
block id: bb1
	block num_instrs: 9
	block terminal: CallDirect { lhs: Some(Variable { name: "_t5", typ: Pointer(Struct("term")), scope: Some("main") }), callee: "var", args: [Var(Variable { name: "x", typ: Pointer(Struct("var")), scope: Some("main") })], next_bb: "bb2" }
block id: bb6
	block num_instrs: 0
	block terminal: CallDirect { lhs: Some(Variable { name: "_t10", typ: Pointer(Struct("term")), scope: Some("main") }), callee: "lambda", args: [Var(Variable { name: "y", typ: Pointer(Struct("var")), scope: Some("main") }), Var(Variable { name: "_t9", typ: Pointer(Struct("term")), scope: Some("main") })], next_bb: "bb7" }
block id: entry
	block num_instrs: 0
	block terminal: CallDirect { lhs: None, callee: "init", args: [], next_bb: "bb1" }
block id: bb4
	block num_instrs: 0
	block terminal: CallDirect { lhs: Some(Variable { name: "_t8", typ: Pointer(Struct("term")), scope: Some("main") }), callee: "apply", args: [Var(Variable { name: "_t6", typ: Pointer(Struct("term")), scope: Some("main") }), Var(Variable { name: "_t7", typ: Pointer(Struct("term")), scope: Some("main") })], next_bb: "bb5" }
block id: bb2
	block num_instrs: 0
	block terminal: CallDirect { lhs: Some(Variable { name: "_t6", typ: Pointer(Struct("term")), scope: Some("main") }), callee: "var", args: [Var(Variable { name: "x", typ: Pointer(Struct("var")), scope: Some("main") })], next_bb: "bb3" }
block id: bb13
	block num_instrs: 0
	block terminal: CallDirect { lhs: Some(Variable { name: "_t17", typ: Pointer(Struct("term")), scope: Some("main") }), callee: "const", args: [CInt(3)], next_bb: "bb14" }
block id: bb11
	block num_instrs: 0
	block terminal: CallDirect { lhs: Some(Variable { name: "_t15", typ: Pointer(Struct("term")), scope: Some("main") }), callee: "lambda", args: [Var(Variable { name: "x", typ: Pointer(Struct("var")), scope: Some("main") }), Var(Variable { name: "_t14", typ: Pointer(Struct("term")), scope: Some("main") })], next_bb: "bb12" }
block id: bb3
	block num_instrs: 0
	block terminal: CallDirect { lhs: Some(Variable { name: "_t7", typ: Pointer(Struct("term")), scope: Some("main") }), callee: "var", args: [Var(Variable { name: "y", typ: Pointer(Struct("var")), scope: Some("main") })], next_bb: "bb4" }
block id: bb16
	block num_instrs: 0
	block terminal: CallDirect { lhs: Some(Variable { name: "_t19", typ: Pointer(Struct("value")), scope: Some("main") }), callee: "eval", args: [Var(Variable { name: "env", typ: Pointer(Struct("env")), scope: Some("main") }), Var(Variable { name: "t", typ: Pointer(Struct("term")), scope: Some("main") })], next_bb: "bb17" }
block id: bb10
	block num_instrs: 0
	block terminal: CallDirect { lhs: Some(Variable { name: "_t14", typ: Pointer(Struct("term")), scope: Some("main") }), callee: "add", args: [Var(Variable { name: "_t12", typ: Pointer(Struct("term")), scope: Some("main") }), Var(Variable { name: "_t13", typ: Pointer(Struct("term")), scope: Some("main") })], next_bb: "bb11" }
block id: entry
	block num_instrs: 7
	block terminal: Ret(Some(Var(Variable { name: "t", typ: Pointer(Struct("term")), scope: Some("apply") })))
block id: entry
	block num_instrs: 5
	block terminal: Ret(Some(Var(Variable { name: "t", typ: Pointer(Struct("term")), scope: Some("const") })))
block id: entry
	block num_instrs: 7
	block terminal: Ret(Some(Var(Variable { name: "e", typ: Pointer(Struct("env")), scope: Some("bind") })))
block id: entry
	block num_instrs: 7
	block terminal: Ret(Some(Var(Variable { name: "t", typ: Pointer(Struct("term")), scope: Some("lambda") })))
block id: entry
	block num_instrs: 1
	block terminal: Ret(None)
block id: entry
	block num_instrs: 7
	block terminal: Ret(Some(Var(Variable { name: "t", typ: Pointer(Struct("term")), scope: Some("add") })))
block id: entry
	block num_instrs: 7
	block terminal: Ret(None)
block id: bb2
	block num_instrs: 3
	block terminal: Branch { cond: Var(Variable { name: "_t4", typ: Int, scope: Some("lookup") }), tt: "bb5", ff: "bb4" }
block id: exit
	block num_instrs: 0
	block terminal: Ret(Some(Var(Variable { name: "_ret11", typ: Pointer(Struct("value")), scope: Some("lookup") })))
block id: bb1
	block num_instrs: 1
	block terminal: Branch { cond: Var(Variable { name: "_t1", typ: Int, scope: Some("lookup") }), tt: "bb2", ff: "bb3" }
block id: bb4
	block num_instrs: 3
	block terminal: Jump("bb1")
block id: bb5
	block num_instrs: 3
	block terminal: Jump("exit")
block id: entry
	block num_instrs: 0
	block terminal: Jump("bb1")
block id: bb3
	block num_instrs: 4
	block terminal: Jump("exit")
block id: bb2
	block num_instrs: 1
	block terminal: CallDirect { lhs: None, callee: "printI", args: [Var(Variable { name: "_t3", typ: Int, scope: Some("printE") })], next_bb: "bb3" }
block id: entry
	block num_instrs: 1
	block terminal: Branch { cond: Var(Variable { name: "_t2", typ: Int, scope: Some("printE") }), tt: "bb2", ff: "bb1" }
block id: bb12
	block num_instrs: 2
	block terminal: CallDirect { lhs: None, callee: "printE", args: [Var(Variable { name: "_t24", typ: Pointer(Struct("term")), scope: Some("printE") })], next_bb: "bb13" }
block id: bb13
	block num_instrs: 0
	block terminal: Jump("bb10")
block id: bb19
	block num_instrs: 2
	block terminal: CallDirect { lhs: None, callee: "printI", args: [Var(Variable { name: "_t38", typ: Int, scope: Some("printE") })], next_bb: "bb20" }
block id: bb11
	block num_instrs: 2
	block terminal: CallDirect { lhs: None, callee: "printE", args: [Var(Variable { name: "_t22", typ: Pointer(Struct("term")), scope: Some("printE") })], next_bb: "bb12" }
block id: bb4
	block num_instrs: 5
	block terminal: Branch { cond: Var(Variable { name: "_t9", typ: Int, scope: Some("printE") }), tt: "bb6", ff: "bb5" }
block id: bb1
	block num_instrs: 2
	block terminal: CallDirect { lhs: None, callee: "printI", args: [Var(Variable { name: "_t5", typ: Int, scope: Some("printE") })], next_bb: "bb4" }
block id: exit
	block num_instrs: 0
	block terminal: Ret(None)
block id: bb18
	block num_instrs: 2
	block terminal: Jump("exit")
block id: bb8
	block num_instrs: 0
	block terminal: Branch { cond: Var(Variable { name: "_lo1", typ: Int, scope: Some("printE") }), tt: "bb11", ff: "bb10" }
block id: bb10
	block num_instrs: 3
	block terminal: Branch { cond: Var(Variable { name: "_t27", typ: Int, scope: Some("printE") }), tt: "bb15", ff: "bb14" }
block id: bb17
	block num_instrs: 0
	block terminal: Jump("bb14")
block id: bb14
	block num_instrs: 3
	block terminal: Branch { cond: Var(Variable { name: "_t36", typ: Int, scope: Some("printE") }), tt: "bb19", ff: "bb18" }
block id: bb15
	block num_instrs: 4
	block terminal: CallDirect { lhs: None, callee: "printI", args: [Var(Variable { name: "_t31", typ: Int, scope: Some("printE") })], next_bb: "bb16" }
block id: bb3
	block num_instrs: 0
	block terminal: Jump("exit")
block id: bb6
	block num_instrs: 4
	block terminal: CallDirect { lhs: None, callee: "printI", args: [Var(Variable { name: "_t13", typ: Int, scope: Some("printE") })], next_bb: "bb7" }
block id: bb5
	block num_instrs: 5
	block terminal: Branch { cond: Var(Variable { name: "_t17", typ: Int, scope: Some("printE") }), tt: "bb9", ff: "bb8" }
block id: bb16
	block num_instrs: 2
	block terminal: CallDirect { lhs: None, callee: "printE", args: [Var(Variable { name: "_t33", typ: Pointer(Struct("term")), scope: Some("printE") })], next_bb: "bb17" }
block id: bb7
	block num_instrs: 0
	block terminal: Jump("bb5")
block id: bb9
	block num_instrs: 4
	block terminal: Jump("bb8")
block id: bb20
	block num_instrs: 0
	block terminal: Jump("bb18")
block id: bb9
	block num_instrs: 0
	block terminal: Jump("bb6")
block id: bb4
	block num_instrs: 0
	block terminal: Jump("bb1")
block id: bb6
	block num_instrs: 2
	block terminal: Jump("bb1")
block id: bb2
	block num_instrs: 1
	block terminal: CallDirect { lhs: None, callee: "printI", args: [Var(Variable { name: "_t2", typ: Int, scope: Some("printV") })], next_bb: "bb4" }
block id: bb7
	block num_instrs: 2
	block terminal: CallDirect { lhs: None, callee: "printI", args: [Var(Variable { name: "_t10", typ: Int, scope: Some("printV") })], next_bb: "bb9" }
block id: entry
	block num_instrs: 1
	block terminal: Branch { cond: Var(Variable { name: "_t1", typ: Int, scope: Some("printV") }), tt: "bb2", ff: "bb3" }
block id: bb1
	block num_instrs: 0
	block terminal: Ret(None)
block id: bb3
	block num_instrs: 2
	block terminal: CallDirect { lhs: None, callee: "printI", args: [Var(Variable { name: "_t4", typ: Int, scope: Some("printV") })], next_bb: "bb5" }
block id: bb10
	block num_instrs: 2
	block terminal: CallDirect { lhs: None, callee: "printE", args: [Var(Variable { name: "_t16", typ: Pointer(Struct("term")), scope: Some("printV") })], next_bb: "bb11" }
block id: bb11
	block num_instrs: 0
	block terminal: Jump("bb6")
block id: bb8
	block num_instrs: 4
	block terminal: CallDirect { lhs: None, callee: "printI", args: [Var(Variable { name: "_t14", typ: Int, scope: Some("printV") })], next_bb: "bb10" }
block id: bb5
	block num_instrs: 5
	block terminal: Branch { cond: Var(Variable { name: "_t8", typ: Int, scope: Some("printV") }), tt: "bb7", ff: "bb8" }
test cfg::test::test_example_program ... ok

test result: ok. 4 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.01s


running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s


running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s


running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

